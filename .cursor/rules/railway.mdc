---
description: Railway CLI commands for Yes Human services
globs: ["**/railway.toml", "**/vite.config.ts", "**/.env*"]
alwaysApply: true
---

# Railway CLI Quick Commands

## Labs UI Service (yh-stack-talentco-ui)
```bash
railway link --project talentco --environment production --service yh-stack-talentco-ui
railway variables
railway logs --build        # View build logs
railway logs --deployment   # View deployment logs
railway redeploy           # Redeploy latest deployment
```

## API Service (yh-stack-talentco-api) ✅ WORKING
```bash
railway link --project talentco --environment production --service yh-stack-talentco-api
railway variables
railway logs --build        # ✅ View full build logs
railway logs --deployment   # ✅ View runtime logs
railway redeploy           # Redeploy latest deployment
```

## Postgres Database (yh-stack-talentco-postgres)
```bash
railway link --project talentco --environment production --service yh-stack-talentco-postgres
railway variables
railway connect            # Connect to database
```

## Quick Switch Commands
```bash
# Switch between services (after linking to project)
railway service  # Interactive service selection
railway service yh-stack-talentco-ui
railway service yh-stack-talentco-api
railway service yh-stack-talentco-postgres
```

## Service URLs
- Labs: https://yh-labs-ui-talentco-production.up.railway.app
- API: https://yh-api-talentco-production.up.railway.app

## Useful Commands
```bash
# List all projects
railway list

# Check current service status
railway status

# View logs (try these variations)
railway logs --build         # Build logs
railway logs --deployment    # Deployment logs
railway logs                 # Latest deployment logs

# Redeploy service
railway redeploy

# Connect to database (if postgres service)
railway connect

# Get current user
railway whoami

# Open project dashboard
railway open
```

## Troubleshooting: Logs Not Working

**If `railway logs` shows "No deployments found":**
1. **Switch services**: `railway service <service-name>`
2. **Re-link project**: `railway link --project talentco --environment production --service <service>`
3. **Use Railway Dashboard**: https://railway.com/projects → talentco → Service → "View Logs"

**✅ Confirmed Working:**
- API Service: Full build + deployment logs ✅
- UI Service: May need service switching or dashboard fallback

## Alternative: View Logs via Railway Dashboard
If CLI logs aren't working, view logs at:
- https://railway.com/projects → Select project → Service → "View Logs"

## Environment Variables
- `VITE_API_URL`: API service URL
- `VITE_ALLOWED_HOSTS`: Deployment domains
- `VITE_CLIENT_CONFIG`: Multi-tenant config
